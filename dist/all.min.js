var radioApp=angular.module("radioApp",[]),myAPIkey="MDIxNjc3OTcwMDE0NTAxNjcwNzIyNGZiYw000",nprURL="http://api.npr.org/query?id=61&fields=relatedLink,title,byline,text,audio,image,pullQuote,all&output=JSON";radioApp.controller("playerCtrl",["$scope","$http",function(t,r){t.playing=!1,t.audio=document.createElement("audio"),t.audio.src="http://pd.npr.org/npr-mp4/npr/sf/2013/07/20130726_sf_05.mp4?orgId=1&topicId=1032&ft=3&f=61",t.play=function(){t.audio.play(),t.playing=!0},t.stop=function(){t.audio.pause(),t.playing=!1},t.audio.addEventListener("ended",function(){t.$apply(function(){t.stop()})}),r({method:"JSONP",url:nprURL+"&apiKey="+myAPIkey+"&callback=JSON_CALLBACK"}).success(function(r,e){t.programs=r.list.story}).error(function(t,r){})}]),radioApp.directive("nprLink",function(){return{restrict:"EA",require:["^ngModel"],replace:!0,scope:{ngModel:"=",play:"&"},templateUrl:"partials/nprListItem.html",link:function(t,r,e){t.duration=t.ngModel.audio[0].duration.$text}}}),radioApp.controller("relatedCtrl",function(t){});